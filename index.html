<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Torino - Gastronomía Italiana</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <style>
        :root {
            --verde-torino: #27ae60;
            --verde-brillante: #2ecc71;
            --verde-oscuro: #219653;
            --rojo-oferta: #e74c3c;
            --amarillo-destacado: #f1c40f;
            --gris-oscuro: #2c3e50;
            --gris-claro: #ecf0f1;
            --blanco: #ffffff;
            --sombra: 0 4px 6px rgba(0, 0, 0, 0.1);
            --transicion: all 0.3s ease;
        }
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background-color: #f9f9f9;
            color: #333;
            line-height: 1.6;
        }
        
        /* Header */
        header {
            background-color: var(--gris-oscuro);
            padding: 1rem 0;
            position: sticky;
            top: 0;
            z-index: 1000;
            box-shadow: var(--sombra);
        }
        
        .container {
            width: 90%;
            max-width: 1200px;
            margin: 0 auto;
        }
        
        .header-container {
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        
        .logo {
            display: flex;
            align-items: center;
        }
        
        .logo h1 {
            color: var(--verde-brillante);
            font-size: 2.2rem;
            font-weight: 700;
            text-shadow: 0 0 10px rgba(46, 204, 113, 0.5);
            letter-spacing: 1px;
            animation: brillo 2s infinite alternate;
        }
        
        @keyframes brillo {
            from { text-shadow: 0 0 10px rgba(46, 204, 113, 0.5); }
            to { text-shadow: 0 0 20px rgba(46, 204, 113, 0.8), 0 0 30px rgba(46, 204, 113, 0.5); }
        }
        
        /* Menú Toggle */
        .menu-toggle {
            display: none;
            flex-direction: column;
            justify-content: space-between;
            width: 30px;
            height: 21px;
            cursor: pointer;
        }
        
        .menu-toggle span {
            display: block;
            height: 3px;
            width: 100%;
            background-color: var(--blanco);
            border-radius: 3px;
            transition: var(--transicion);
        }
        
        nav ul {
            display: flex;
            list-style: none;
        }
        
        nav ul li {
            margin-left: 2rem;
        }
        
        nav ul li a {
            color: var(--blanco);
            text-decoration: none;
            font-weight: 500;
            font-size: 1.1rem;
            transition: var(--transicion);
            padding: 0.5rem 0;
            position: relative;
        }
        
        nav ul li a:hover {
            color: var(--verde-brillante);
        }
        
        nav ul li a::after {
            content: '';
            position: absolute;
            width: 0;
            height: 2px;
            background: var(--verde-brillante);
            bottom: 0;
            left: 0;
            transition: var(--transicion);
        }
        
        nav ul li a:hover::after {
            width: 100%;
        }
        
        /* Hero Section */
        .hero {
            background: linear-gradient(rgba(0, 0, 0, 0.7), rgba(0, 0, 0, 0.7)), url('https://images.unsplash.com/photo-1517248135467-4c7edcad34c4?ixlib=rb-1.2.1&auto=format&fit=crop&w=1350&q=80') no-repeat center center/cover;
            height: 60vh;
            display: flex;
            align-items: center;
            text-align: center;
            color: var(--blanco);
        }
        
        .hero-content {
            max-width: 800px;
            margin: 0 auto;
        }
        
        .hero h2 {
            font-size: 3rem;
            margin-bottom: 1rem;
            color: var(--verde-brillante);
        }
        
        .hero p {
            font-size: 1.2rem;
            margin-bottom: 2rem;
        }
        
        .btn {
            display: inline-block;
            background: var(--verde-torino);
            color: var(--blanco);
            padding: 0.8rem 2rem;
            border: none;
            border-radius: 50px;
            font-size: 1rem;
            font-weight: 600;
            text-decoration: none;
            transition: var(--transicion);
            cursor: pointer;
            box-shadow: var(--sombra);
        }
        
        .btn:hover {
            background: var(--verde-oscuro);
            transform: translateY(-3px);
            box-shadow: 0 6px 12px rgba(0, 0, 0, 0.15);
        }
        
        .btn-admin {
            background: var(--gris-oscuro);
            margin-left: 10px;
        }
        
        .btn-admin:hover {
            background: #1a252f;
        }
        
        /* Modal */
        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.8);
            z-index: 2000;
            justify-content: center;
            align-items: center;
        }
        
        .modal-content {
            background: var(--blanco);
            padding: 2rem;
            border-radius: 10px;
            width: 90%;
            max-width: 500px;
            max-height: 90vh;
            overflow-y: auto;
            position: relative;
        }
        
        .close-modal {
            position: absolute;
            top: 15px;
            right: 15px;
            font-size: 1.5rem;
            cursor: pointer;
            color: var(--gris-oscuro);
        }
        
        .form-group {
            margin-bottom: 1.5rem;
        }
        
        .form-group label {
            display: block;
            margin-bottom: 0.5rem;
            font-weight: 600;
            color: var(--gris-oscuro);
        }
        
        .form-group input,
        .form-group textarea,
        .form-group select {
            width: 100%;
            padding: 0.8rem;
            border: 1px solid #ddd;
            border-radius: 5px;
            font-size: 1rem;
        }
        
        .form-group textarea {
            min-height: 100px;
            resize: vertical;
        }
        
        /* Menú Section */
        .menu-section {
            padding: 5rem 0;
        }
        
        .section-title {
            text-align: center;
            margin-bottom: 3rem;
        }
        
        .section-title h2 {
            font-size: 2.5rem;
            color: var(--gris-oscuro);
            position: relative;
            display: inline-block;
            padding-bottom: 1rem;
        }
        
        .section-title h2::after {
            content: '';
            position: absolute;
            width: 50%;
            height: 3px;
            background: var(--verde-torino);
            bottom: 0;
            left: 25%;
        }
        
        .menu-categories {
            display: flex;
            justify-content: center;
            margin-bottom: 2rem;
            flex-wrap: wrap;
        }
        
        .category-btn {
            background: none;
            border: none;
            color: var(--gris-oscuro);
            font-size: 1.1rem;
            font-weight: 600;
            padding: 0.5rem 1.5rem;
            margin: 0 0.5rem;
            cursor: pointer;
            transition: var(--transicion);
            border-radius: 50px;
        }
        
        .category-btn.active, .category-btn:hover {
            background: var(--verde-torino);
            color: var(--blanco);
        }
        
        .menu-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(350px, 1fr));
            gap: 2rem;
        }
        
        .menu-item {
            background: var(--blanco);
            border-radius: 10px;
            overflow: hidden;
            box-shadow: var(--sombra);
            transition: var(--transicion);
            display: none;
            position: relative;
        }
        
        .menu-item.active {
            display: block;
        }
        
        .menu-item.oferta {
            border: 3px solid var(--rojo-oferta);
            animation: destello 2s infinite;
        }
        
        @keyframes destello {
            0% { box-shadow: 0 0 0 0 rgba(231, 76, 60, 0.7); }
            70% { box-shadow: 0 0 0 10px rgba(231, 76, 60, 0); }
            100% { box-shadow: 0 0 0 0 rgba(231, 76, 60, 0); }
        }
        
        .menu-item.oferta .oferta-badge {
            position: absolute;
            top: 15px;
            right: 15px;
            background: var(--rojo-oferta);
            color: white;
            padding: 0.3rem 0.8rem;
            border-radius: 50px;
            font-weight: bold;
            font-size: 0.9rem;
            z-index: 1;
        }
        
        .menu-item.destacado {
            border: 3px solid var(--amarillo-destacado);
        }
        
        .menu-item:hover {
            transform: translateY(-10px);
            box-shadow: 0 10px 20px rgba(0, 0, 0, 0.1);
        }
        
        .menu-item-img {
            height: 200px;
            overflow: hidden;
            position: relative;
        }
        
        .menu-item-img img {
            width: 100%;
            height: 100%;
            object-fit: cover;
            transition: var(--transicion);
        }
        
        .menu-item:hover .menu-item-img img {
            transform: scale(1.1);
        }
        
        .menu-item-content {
            padding: 1.5rem;
        }
        
        .menu-item-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 1rem;
        }
        
        .menu-item-title {
            font-size: 1.3rem;
            color: var(--gris-oscuro);
            font-weight: 700;
        }
        
        .menu-item-price {
            font-size: 1.2rem;
            font-weight: 700;
            color: var(--verde-torino);
            background: var(--gris-claro);
            padding: 0.3rem 0.8rem;
            border-radius: 50px;
        }
        
        .menu-item-old-price {
            text-decoration: line-through;
            color: #999;
            font-size: 0.9rem;
            margin-right: 5px;
        }
        
        .menu-item-description {
            color: #666;
            margin-bottom: 1.5rem;
        }
        
        .menu-item-footer {
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        
        .menu-item-rating {
            color: #f39c12;
            display: flex;
            align-items: center;
        }
        
        .rating-count {
            font-size: 0.8rem;
            color: #777;
            margin-left: 5px;
        }
        
        .rate-btn {
            background: #f39c12;
            color: white;
            border: none;
            padding: 0.5rem 1rem;
            border-radius: 50px;
            font-weight: 600;
            cursor: pointer;
            transition: var(--transicion);
        }
        
        .rate-btn:hover {
            background: #e67e22;
        }
        
        /* Rating Stars */
        .rating-stars {
            display: flex;
            margin-top: 10px;
        }
        
        .rating-stars .star {
            color: #ddd;
            cursor: pointer;
            transition: var(--transicion);
        }
        
        .rating-stars .star:hover,
        .rating-stars .star.active {
            color: #f39c12;
        }
        
        /* Admin Panel */
        .admin-panel {
            display: none;
            background: var(--gris-claro);
            padding: 2rem;
            border-radius: 10px;
            margin-top: 2rem;
        }
        
        .admin-actions {
            display: flex;
            justify-content: space-between;
            margin-bottom: 1.5rem;
        }
        
        .admin-item-list {
            background: var(--blanco);
            border-radius: 8px;
            padding: 1rem;
            max-height: 400px;
            overflow-y: auto;
        }
        
        .admin-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 0.8rem 0;
            border-bottom: 1px solid #eee;
        }
        
        .admin-item:last-child {
            border-bottom: none;
        }
        
        .admin-item-actions button {
            background: var(--gris-oscuro);
            color: white;
            border: none;
            padding: 0.3rem 0.8rem;
            border-radius: 4px;
            margin-left: 0.5rem;
            cursor: pointer;
            transition: var(--transicion);
        }
        
        .admin-item-actions button:hover {
            opacity: 0.8;
        }
        
        .admin-item-actions .edit-btn {
            background: var(--verde-torino);
        }
        
        .admin-item-actions .delete-btn {
            background: var(--rojo-oferta);
        }
        
        .admin-item-actions .offer-btn {
            background: var(--amarillo-destacado);
            color: var(--gris-oscuro);
        }
        
        /* Info Section */
        .info-section {
            padding: 5rem 0;
            background: var(--gris-claro);
        }
        
        .info-container {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 2rem;
        }
        
        .info-card {
            background: var(--blanco);
            padding: 2rem;
            border-radius: 10px;
            box-shadow: var(--sombra);
            text-align: center;
        }
        
        .info-card i {
            font-size: 3rem;
            color: var(--verde-torino);
            margin-bottom: 1.5rem;
        }
        
        .info-card h3 {
            font-size: 1.5rem;
            color: var(--gris-oscuro);
            margin-bottom: 1rem;
        }
        
        .info-card p {
            color: #666;
        }
        
        /* Footer */
        footer {
            background: var(--gris-oscuro);
            color: var(--blanco);
            padding: 3rem 0 1rem;
            text-align: center;
        }
        
        .footer-content {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 2rem;
            margin-bottom: 2rem;
        }
        
        .footer-column h3 {
            font-size: 1.3rem;
            margin-bottom: 1.5rem;
            color: var(--verde-brillante);
        }
        
        .footer-column ul {
            list-style: none;
        }
        
        .footer-column ul li {
            margin-bottom: 0.8rem;
        }
        
        .footer-column ul li a {
            color: var(--blanco);
            text-decoration: none;
            transition: var(--transicion);
        }
        
        .footer-column ul li a:hover {
            color: var(--verde-brillante);
        }
        
        .social-links {
            display: flex;
            justify-content: center;
            gap: 1rem;
            margin-top: 1rem;
        }
        
        .social-links a {
            color: var(--blanco);
            background: rgba(255, 255, 255, 0.1);
            width: 40px;
            height: 40px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: var(--transicion);
        }
        
        .social-links a:hover {
            background: var(--verde-torino);
            transform: translateY(-5px);
        }
        
        .copyright {
            padding-top: 2rem;
            border-top: 1px solid rgba(255, 255, 255, 0.1);
            font-size: 0.9rem;
            color: rgba(255, 255, 255, 0.7);
        }
        
        /* Responsive */
        @media (max-width: 768px) {
            .menu-toggle {
                display: flex;
            }
            
            nav {
                position: absolute;
                top: 100%;
                left: 0;
                width: 100%;
                background: var(--gris-oscuro);
                clip-path: polygon(0 0, 100% 0, 100% 0, 0 0);
                transition: var(--transicion);
            }
            
            nav.active {
                clip-path: polygon(0 0, 100% 0, 100% 100%, 0 100%);
            }
            
            nav ul {
                flex-direction: column;
                padding: 1rem 0;
            }
            
            nav ul li {
                margin: 0;
                text-align: center;
                padding: 0.8rem 0;
            }
            
            .hero h2 {
                font-size: 2.2rem;
            }
            
            .menu-grid {
                grid-template-columns: 1fr;
            }
            
            .admin-actions {
                flex-direction: column;
                gap: 1rem;
            }
        }
    </style>
</head>
<body>
    <!-- Header -->
    <header>
        <div class="container header-container">
            <div class="logo">
                <h1>TORINO</h1>
            </div>
            
            <button class="menu-toggle" id="menuToggle">
                <span></span>
                <span></span>
                <span></span>
            </button>
            
            <nav id="mainNav">
                <ul>
                    <li><a href="#inicio">Inicio</a></li>
                    <li><a href="#menu">Menú</a></li>
                    <li><a href="#contacto">Contacto</a></li>
                    <li><a href="#" id="adminLoginBtn">Admin</a></li>
                </ul>
            </nav>
        </div>
    </header>
    
    <!-- Hero Section -->
    <section class="hero" id="inicio">
        <div class="container hero-content">
            <h2>Auténtica Cocina Italiana</h2>
            <p>Descubre los sabores tradicionales de Italia en el corazón de Buenos Aires</p>
            <a href="#menu" class="btn">Ver Menú</a>
        </div>
    </section>
    
    <!-- Menú Section -->
    <section class="menu-section" id="menu">
        <div class="container">
            <div class="section-title">
                <h2>Nuestro Menú</h2>
                <p>Selecciona una categoría para filtrar</p>
            </div>
            
            <div class="menu-categories">
                <button class="category-btn active" data-category="all">Todo</button>
                <button class="category-btn" data-category="entradas">Entradas</button>
                <button class="category-btn" data-category="pastas">Pastas</button>
                <button class="category-btn" data-category="carnes">Carnes</button>
                <button class="category-btn" data-category="pescados">Pescados</button>
                <button class="category-btn" data-category="postres">Postres</button>
                <button class="category-btn" data-category="bebidas">Bebidas</button>
            </div>
            
            <div class="menu-grid" id="menuGrid">
                <!-- Los items del menú se cargarán dinámicamente desde JavaScript -->
            </div>
            
            <!-- Panel de Administración -->
            <div class="admin-panel" id="adminPanel">
                <div class="admin-actions">
                    <h3>Panel de Administración</h3>
                    <button class="btn" id="addItemBtn">Agregar Producto</button>
                </div>
                
                <div class="admin-item-list" id="adminItemList">
                    <!-- Los items para administrar se cargarán dinámicamente -->
                </div>
            </div>
        </div>
    </section>
    
    <!-- Info Section -->
    <section class="info-section" id="contacto">
        <div class="container">
            <div class="info-container">
                <div class="info-card">
                    <i class="fas fa-map-marker-alt"></i>
                    <h3>Ubicación</h3>
                    <p>Av. Corrientes 1234, Buenos Aires</p>
                    <p>Tel: +54 11 1234-5678</p>
                    <iframe src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d3284.016713276845!2d-58.383759!3d-34.603734899999996!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x4aa9f0a6da5edb%3A0x11bead4e234e558b!2sObelisco!5e0!3m2!1ses-419!2sar!4v1620000000000!5m2!1ses-419!2sar" width="100%" height="200" style="border:0;" allowfullscreen="" loading="lazy"></iframe>
                </div>
                
                <div class="info-card">
                    <i class="fas fa-clock"></i>
                    <h3>Horario</h3>
                    <p>Lunes a Viernes: 12:00 - 16:00 / 20:00 - 00:00</p>
                    <p>Sábados: 12:00 - 01:00</p>
                    <p>Domingos: 12:00 - 23:00</p>
                </div>
                
                <div class="info-card">
                    <i class="fas fa-utensils"></i>
                    <h3>Contacto</h3>
                    <p>¿Tenés alguna consulta?</p>
                    <a href="mailto:info@torino.com.ar" class="btn">Enviar Email</a>
                </div>
            </div>
        </div>
    </section>
    
    <!-- Footer -->
    <footer>
        <div class="container">
            <div class="footer-content">
                <div class="footer-column">
                    <h3>TORINO</h3>
                    <p>Auténtica cocina italiana en el corazón de Buenos Aires.</p>
                    <div class="social-links">
                        <a href="#"><i class="fab fa-facebook-f"></i></a>
                        <a href="#"><i class="fab fa-instagram"></i></a>
                        <a href="#"><i class="fab fa-twitter"></i></a>
                        <a href="#"><i class="fab fa-tripadvisor"></i></a>
                    </div>
                </div>
                
                <div class="footer-column">
                    <h3>Menú</h3>
                    <ul>
                        <li><a href="#menu">Entradas</a></li>
                        <li><a href="#menu">Pastas</a></li>
                        <li><a href="#menu">Carnes</a></li>
                        <li><a href="#menu">Postres</a></li>
                    </ul>
                </div>
                
                <div class="footer-column">
                    <h3>Contacto</h3>
                    <ul>
                        <li><i class="fas fa-phone"></i> +54 11 1234-5678</li>
                        <li><i class="fas fa-envelope"></i> info@torino.com.ar</li>
                        <li><i class="fas fa-map-marker-alt"></i> Av. Corrientes 1234</li>
                    </ul>
                </div>
            </div>
            
            <div class="copyright">
                <p>&copy; 2023 Restaurante Torino. Todos los derechos reservados.</p>
            </div>
        </div>
    </footer>
    
    <!-- Modal Login -->
    <div class="modal" id="loginModal">
        <div class="modal-content">
            <span class="close-modal" id="closeLoginModal">&times;</span>
            <h2>Iniciar Sesión</h2>
            <div class="form-group">
                <label for="username">Usuario</label>
                <input type="text" id="username" placeholder="Ingrese su usuario">
            </div>
            <div class="form-group">
                <label for="password">Contraseña</label>
                <input type="password" id="password" placeholder="Ingrese su contraseña">
            </div>
            <button class="btn" id="loginBtn">Ingresar</button>
        </div>
    </div>
    
    <!-- Modal Editar/Añadir Producto -->
    <div class="modal" id="productModal">
        <div class="modal-content">
            <span class="close-modal" id="closeProductModal">&times;</span>
            <h2 id="modalProductTitle">Agregar Nuevo Producto</h2>
            <div class="form-group">
                <label for="productName">Nombre del Producto</label>
                <input type="text" id="productName" placeholder="Ej: Spaghetti Carbonara">
            </div>
            <div class="form-group">
                <label for="productCategory">Categoría</label>
                <select id="productCategory">
                    <option value="entradas">Entradas</option>
                    <option value="pastas">Pastas</option>
                    <option value="carnes">Carnes</option>
                    <option value="pescados">Pescados</option>
                    <option value="postres">Postres</option>
                    <option value="bebidas">Bebidas</option>
                </select>
            </div>
            <div class="form-group">
                <label for="productDescription">Descripción</label>
                <textarea id="productDescription" placeholder="Descripción detallada del producto"></textarea>
            </div>
            <div class="form-group">
                <label for="productPrice">Precio ($ARS)</label>
                <input type="number" id="productPrice" placeholder="Ej: 2500">
            </div>
            <div class="form-group">
                <label for="productImage">Imagen URL</label>
                <input type="text" id="productImage" placeholder="URL de la imagen">
            </div>
            <div class="form-group">
                <label>
                    <input type="checkbox" id="productFeatured"> Producto Destacado
                </label>
            </div>
            <div id="offerSection" style="display: none;">
                <h3>Oferta Especial</h3>
                <div class="form-group">
                    <label for="offerPrice">Precio de Oferta ($ARS)</label>
                    <input type="number" id="offerPrice" placeholder="Ej: 2000">
                </div>
                <div class="form-group">
                    <label for="offerEndDate">Fecha de Finalización</label>
                    <input type="datetime-local" id="offerEndDate">
                </div>
            </div>
            <button class="btn" id="saveProductBtn">Guardar Producto</button>
            <button class="btn btn-admin" id="addOfferBtn" style="margin-top: 10px;">Agregar/Quitar Oferta</button>
            <button class="btn" id="deleteProductBtn" style="background: var(--rojo-oferta); margin-top: 10px; display: none;">Eliminar Producto</button>
        </div>
    </div>
    
    <!-- Modal Valoración -->
    <div class="modal" id="ratingModal">
        <div class="modal-content">
            <span class="close-modal" id="closeRatingModal">&times;</span>
            <h2 id="ratingProductTitle">Valorar Producto</h2>
            <div class="form-group">
                <label for="ratingUserName">Tu nombre</label>
                <input type="text" id="ratingUserName" placeholder="Ej: Ana">
            </div>
            <div class="form-group">
                <label>Tu valoración</label>
                <div class="rating-stars" id="ratingStars">
                    <i class="fas fa-star star" data-rating="1"></i>
                    <i class="fas fa-star star" data-rating="2"></i>
                    <i class="fas fa-star star" data-rating="3"></i>
                    <i class="fas fa-star star" data-rating="4"></i>
                    <i class="fas fa-star star" data-rating="5"></i>
                </div>
            </div>
            <div class="form-group">
                <label for="ratingComment">Comentario (opcional)</label>
                <textarea id="ratingComment" placeholder="¿Qué te pareció este plato?"></textarea>
            </div>
            <button class="btn" id="submitRatingBtn">Enviar Valoración</button>
        </div>
    </div>
    
    <script>
        // Datos de ejemplo (en un sistema real esto vendría de una base de datos)
        let menuItems = [
            {
                id: 1,
                name: "Bruschetta Clásica",
                category: "entradas",
                description: "Pan tostado con tomate fresco, albahaca, ajo y aceite de oliva extra virgen.",
                price: 1850,
                image: "https://images.unsplash.com/photo-1546069901-ba9599a7e63c?ixlib=rb-1.2.1&auto=format&fit=crop&w=500&q=60",
                featured: false,
                offer: null,
                ratings: [
                    { user: "Ana", rating: 4, comment: "Muy fresca y sabrosa" },
                    { user: "Luis", rating: 5, comment: "Perfecta para empezar" }
                ]
            },
            {
                id: 2,
                name: "Ensalada Caprese",
                category: "entradas",
                description: "Tomate, mozzarella di bufala, albahaca fresca y reducción de aceto balsámico.",
                price: 2300,
                image: "https://images.unsplash.com/photo-1604329760661-e71dc83f8f26?ixlib=rb-1.2.1&auto=format&fit=crop&w=500&q=60",
                featured: false,
                offer: null,
                ratings: [
                    { user: "Carlos", rating: 3, comment: "Buena pero pequeña" }
                ]
            },
            {
                id: 3,
                name: "Spaghetti Carbonara",
                category: "pastas",
                description: "Pasta al dente con salsa cremosa de huevo, panceta crocante, queso pecorino y pimienta negra.",
                price: 3200,
                image: "https://images.unsplash.com/photo-1555949258-eb67b1ef0ceb?ixlib=rb-1.2.1&auto=format&fit=crop&w=500&q=60",
                featured: true,
                offer: null,
                ratings: [
                    { user: "María", rating: 5, comment: "La mejor carbonara de Buenos Aires" },
                    { user: "Juan", rating: 4, comment: "Deliciosa pero un poco salada" }
                ]
            },
            {
                id: 4,
                name: "Ravioli de Ricotta",
                category: "pastas",
                description: "Raviolis caseros rellenos de ricotta y espinacas, con salsa de tomate fresco y albahaca.",
                price: 3500,
                image: "https://images.unsplash.com/photo-1611270629569-8b357cb88da9?ixlib=rb-1.2.1&auto=format&fit=crop&w=500&q=60",
                featured: false,
                offer: {
                    offerPrice: 3000,
                    endDate: "2023-12-31T23:59"
                },
                ratings: [
                    { user: "Lucía", rating: 5, comment: "Los raviolis más tiernos que probé" },
                    { user: "Pedro", rating: 4, comment: "Muy buenos, salsa excelente" }
                ]
            },
            {
                id: 5,
                name: "Ossobuco Milanese",
                category: "carnes",
                description: "Ternera braseada con gremolata, acompañada de risotto milanese.",
                price: 4800,
                image: "https://images.unsplash.com/photo-1551504734-5ee1c4a1479b?ixlib=rb-1.2.1&auto=format&fit=crop&w=500&q=60",
                featured: false,
                offer: null,
                ratings: [
                    { user: "Ana", rating: 5, comment: "Ternera que se deshace, perfecta" },
                    { user: "Roberto", rating: 5, comment: "Plato espectacular" }
                ]
            },
            {
                id: 6,
                name: "Bacalao a la Vicentina",
                category: "pescados",
                description: "Bacalao desalado cocinado lentamente con cebolla, leche y queso parmesano.",
                price: 5200,
                image: "https://images.unsplash.com/photo-1604329760661-e71dc83f8f26?ixlib=rb-1.2.1&auto=format&fit=crop&w=500&q=60",
                featured: false,
                offer: null,
                ratings: []
            },
            {
                id: 7,
                name: "Tiramisú Clásico",
                category: "postres",
                description: "Postre tradicional con capas de bizcocho de soletilla embebido en café, crema de mascarpone y cacao.",
                price: 2100,
                image: "https://images.unsplash.com/photo-1563805042-7684c019e1cb?ixlib=rb-1.2.1&auto=format&fit=crop&w=500&q=60",
                featured: false,
                offer: null,
                ratings: [
                    { user: "Laura", rating: 5, comment: "El mejor postre italiano" },
                    { user: "Miguel", rating: 4, comment: "Muy bueno pero pequeño" }
                ]
            },
            {
                id: 8,
                name: "Limoncello Artesanal",
                category: "bebidas",
                description: "Licor tradicional italiano hecho con limones de Sorrento, servido bien frío.",
                price: 1800,
                image: "https://images.unsplash.com/photo-1514933651103-005eec06c04b?ixlib=rb-1.2.1&auto=format&fit=crop&w=500&q=60",
                featured: false,
                offer: null,
                ratings: [
                    { user: "Sofía", rating: 3, comment: "Muy fuerte para mi gusto" }
                ]
            }
            // Aquí irían los otros 42 platos en un sistema real
        ];
        
        // Estado de la aplicación
        let currentUser = null;
        let editingProductId = null;
        let ratingProductId = null;
        let selectedRating = 0;
        
        // DOM Elements
        const menuGrid = document.getElementById('menuGrid');
        const adminPanel = document.getElementById('adminPanel');
        const adminItemList = document.getElementById('adminItemList');
        const loginModal = document.getElementById('loginModal');
        const closeLoginModal = document.getElementById('closeLoginModal');
        const adminLoginBtn = document.getElementById('adminLoginBtn');
        const loginBtn = document.getElementById('loginBtn');
        const productModal = document.getElementById('productModal');
        const closeProductModal = document.getElementById('closeProductModal');
        const addItemBtn = document.getElementById('addItemBtn');
        const saveProductBtn = document.getElementById('saveProductBtn');
        const deleteProductBtn = document.getElementById('deleteProductBtn');
        const addOfferBtn = document.getElementById('addOfferBtn');
        const offerSection = document.getElementById('offerSection');
        const modalProductTitle = document.getElementById('modalProductTitle');
        const ratingModal = document.getElementById('ratingModal');
        const closeRatingModal = document.getElementById('closeRatingModal');
        const ratingProductTitle = document.getElementById('ratingProductTitle');
        const ratingStars = document.getElementById('ratingStars');
        const submitRatingBtn = document.getElementById('submitRatingBtn');
        
        // Inicializar la aplicación
        document.addEventListener('DOMContentLoaded', () => {
            renderMenuItems();
            setupEventListeners();
        });
        
        // Renderizar los items del menú
        function renderMenuItems() {
            menuGrid.innerHTML = '';
            
            menuItems.forEach(item => {
                const menuItem = document.createElement('div');
                menuItem.className = `menu-item active ${item.featured ? 'destacado' : ''} ${item.offer ? 'oferta' : ''}`;
                menuItem.dataset.category = item.category;
                menuItem.dataset.id = item.id;
                
                let offerBadge = '';
                let oldPrice = '';
                
                if (item.offer) {
                    offerBadge = `<div class="oferta-badge">OFERTA</div>`;
                    oldPrice = `<span class="menu-item-old-price">$${item.price.toLocaleString('es-AR')}</span>`;
                }
                
                // Calcular rating promedio
                const averageRating = calculateAverageRating(item.ratings);
                const ratingCount = item.ratings.length;
                
                menuItem.innerHTML = `
                    <div class="menu-item-img">
                        ${offerBadge}
                        <img src="${item.image}" alt="${item.name}">
                    </div>
                    <div class="menu-item-content">
                        <div class="menu-item-header">
                            <h3 class="menu-item-title">${item.name}</h3>
                            <span class="menu-item-price">
                                ${oldPrice}
                                $${item.offer ? item.offer.offerPrice.toLocaleString('es-AR') : item.price.toLocaleString('es-AR')}
                            </span>
                        </div>
                        <p class="menu-item-description">${item.description}</p>
                        <div class="menu-item-footer">
                            <div class="menu-item-rating">
                                ${renderRating(averageRating)}
                                ${ratingCount > 0 ? `<span class="rating-count">(${ratingCount})</span>` : ''}
                            </div>
                            <button class="rate-btn">Valorar</button>
                        </div>
                    </div>
                `;
                
                menuGrid.appendChild(menuItem);
            });
            
            // Si el usuario es admin, renderizar la lista de administración
            if (currentUser) {
                renderAdminItems();
            }
            
            // Agregar event listeners a los botones de valoración
            document.querySelectorAll('.rate-btn').forEach(btn => {
                btn.addEventListener('click', (e) => {
                    const itemId = parseInt(e.target.closest('.menu-item').dataset.id);
                    openRatingModal(itemId);
                });
            });
        }
        
        // Calcular rating promedio
        function calculateAverageRating(ratings) {
            if (ratings.length === 0) return 0;
            
            const sum = ratings.reduce((total, rating) => total + rating.rating, 0);
            return sum / ratings.length;
        }
        
        // Renderizar estrellas de rating
        function renderRating(rating) {
            let stars = '';
            const fullStars = Math.floor(rating);
            const hasHalfStar = rating % 1 >= 0.5;
            
            for (let i = 1; i <= 5; i++) {
                if (i <= fullStars) {
                    stars += '<i class="fas fa-star"></i>';
                } else if (i === fullStars + 1 && hasHalfStar) {
                    stars += '<i class="fas fa-star-half-alt"></i>';
                } else {
                    stars += '<i class="far fa-star"></i>';
                }
            }
            
            return stars;
        }
        
        // Renderizar items en el panel de administración
        function renderAdminItems() {
            adminItemList.innerHTML = '';
            
            menuItems.forEach(item => {
                const adminItem = document.createElement('div');
                adminItem.className = 'admin-item';
                adminItem.dataset.id = item.id;
                
                adminItem.innerHTML = `
                    <div class="admin-item-info">
                        <strong>${item.name}</strong> - $${item.price.toLocaleString('es-AR')}
                        ${item.offer ? ` (Oferta: $${item.offer.offerPrice.toLocaleString('es-AR')})` : ''}
                    </div>
                    <div class="admin-item-actions">
                        <button class="edit-btn">Editar</button>
                        <button class="offer-btn">${item.offer ? 'Quitar Oferta' : 'Agregar Oferta'}</button>
                        <button class="delete-btn">Eliminar</button>
                    </div>
                `;
                
                adminItemList.appendChild(adminItem);
            });
            
            // Agregar event listeners a los botones de admin
            document.querySelectorAll('.edit-btn').forEach(btn => {
                btn.addEventListener('click', (e) => {
                    const itemId = parseInt(e.target.closest('.admin-item').dataset.id);
                    openEditProductModal(itemId);
                });
            });
            
            document.querySelectorAll('.offer-btn').forEach(btn => {
                btn.addEventListener('click', (e) => {
                    const itemId = parseInt(e.target.closest('.admin-item').dataset.id);
                    const item = menuItems.find(i => i.id === itemId);
                    
                    if (item.offer) {
                        item.offer = null;
                    } else {
                        item.offer = {
                            offerPrice: Math.round(item.price * 0.8), // 20% de descuento por defecto
                            endDate: new Date(Date.now() + 7 * 24 * 60 * 60 * 1000).toISOString().slice(0, 16) // 7 días desde ahora
                        };
                    }
                    
                    renderMenuItems();
                });
            });
            
            document.querySelectorAll('.delete-btn').forEach(btn => {
                btn.addEventListener('click', (e) => {
                    const itemId = parseInt(e.target.closest('.admin-item').dataset.id);
                    if (confirm('¿Estás seguro de que quieres eliminar este producto?')) {
                        menuItems = menuItems.filter(item => item.id !== itemId);
                        renderMenuItems();
                    }
                });
            });
        }
        
        // Configurar event listeners
        function setupEventListeners() {
            // Menú toggle para móviles
            const menuToggle = document.getElementById('menuToggle');
            const mainNav = document.getElementById('mainNav');
            
            menuToggle.addEventListener('click', () => {
                menuToggle.classList.toggle('active');
                mainNav.classList.toggle('active');
            });
            
            // Filtro de categorías
            const categoryBtns = document.querySelectorAll('.category-btn');
            
            categoryBtns.forEach(btn => {
                btn.addEventListener('click', () => {
                    // Remover active de todos los botones
                    categoryBtns.forEach(btn => btn.classList.remove('active'));
                    // Agregar active al botón clickeado
                    btn.classList.add('active');
                    
                    const category = btn.dataset.category;
                    const menuItems = document.querySelectorAll('.menu-item');
                    
                    // Mostrar/ocultar items según categoría
                    menuItems.forEach(item => {
                        if (category === 'all' || item.dataset.category === category) {
                            item.classList.add('active');
                        } else {
                            item.classList.remove('active');
                        }
                    });
                });
            });
            
            // Login Modal
            adminLoginBtn.addEventListener('click', (e) => {
                e.preventDefault();
                if (currentUser) {
                    logout();
                } else {
                    loginModal.style.display = 'flex';
                }
            });
            
            closeLoginModal.addEventListener('click', () => {
                loginModal.style.display = 'none';
            });
            
            loginBtn.addEventListener('click', () => {
                const username = document.getElementById('username').value;
                const password = document.getElementById('password').value;
                
                // En un sistema real, esto sería una llamada al servidor
                if (username === 'admin' && password === 'admin123') {
                    currentUser = { username: 'admin', role: 'admin' };
                    adminPanel.style.display = 'block';
                    adminLoginBtn.textContent = 'Cerrar Sesión';
                    loginModal.style.display = 'none';
                    renderAdminItems();
                } else {
                    alert('Usuario o contraseña incorrectos');
                }
            });
            
            // Product Modal
            addItemBtn.addEventListener('click', () => {
                openAddProductModal();
            });
            
            closeProductModal.addEventListener('click', () => {
                productModal.style.display = 'none';
            });
            
            saveProductBtn.addEventListener('click', () => {
                saveProduct();
            });
            
            addOfferBtn.addEventListener('click', () => {
                offerSection.style.display = offerSection.style.display === 'none' ? 'block' : 'none';
            });
            
            deleteProductBtn.addEventListener('click', () => {
                if (editingProductId && confirm('¿Estás seguro de que quieres eliminar este producto?')) {
                    menuItems = menuItems.filter(item => item.id !== editingProductId);
                    renderMenuItems();
                    productModal.style.display = 'none';
                }
            });
            
            // Rating Modal
            closeRatingModal.addEventListener('click', () => {
                ratingModal.style.display = 'none';
            });
            
            // Rating Stars
            ratingStars.querySelectorAll('.star').forEach(star => {
                star.addEventListener('click', (e) => {
                    const rating = parseInt(e.target.dataset.rating);
                    selectedRating = rating;
                    
                    // Actualizar visualización de estrellas
                    ratingStars.querySelectorAll('.star').forEach((s, i) => {
                        if (i < rating) {
                            s.classList.add('active');
                            s.classList.remove('far');
                            s.classList.add('fas');
                        } else {
                            s.classList.remove('active');
                            s.classList.remove('fas');
                            s.classList.add('far');
                        }
                    });
                });
            });
            
            submitRatingBtn.addEventListener('click', () => {
                submitRating();
            });
            
            // Cerrar modales al hacer clic fuera
            window.addEventListener('click', (e) => {
                if (e.target === loginModal) {
                    loginModal.style.display = 'none';
                }
                if (e.target === productModal) {
                    productModal.style.display = 'none';
                }
                if (e.target === ratingModal) {
                    ratingModal.style.display = 'none';
                }
            });
        }
        
        // Abrir modal para añadir producto
        function openAddProductModal() {
            editingProductId = null;
            modalProductTitle.textContent = 'Agregar Nuevo Producto';
            document.getElementById('productName').value = '';
            document.getElementById('productCategory').value = 'entradas';
            document.getElementById('productDescription').value = '';
            document.getElementById('productPrice').value = '';
            document.getElementById('productImage').value = '';
            document.getElementById('productFeatured').checked = false;
            document.getElementById('offerPrice').value = '';
            document.getElementById('offerEndDate').value = '';
            offerSection.style.display = 'none';
            deleteProductBtn.style.display = 'none';
            productModal.style.display = 'flex';
        }
        
        // Abrir modal para editar producto
        function openEditProductModal(itemId) {
            const item = menuItems.find(i => i.id === itemId);
            if (!item) return;
            
            editingProductId = itemId;
            modalProductTitle.textContent = 'Editar Producto';
            document.getElementById('productName').value = item.name;
            document.getElementById('productCategory').value = item.category;
            document.getElementById('productDescription').value = item.description;
            document.getElementById('productPrice').value = item.price;
            document.getElementById('productImage').value = item.image;
            document.getElementById('productFeatured').checked = item.featured;
            
            if (item.offer) {
                document.getElementById('offerPrice').value = item.offer.offerPrice;
                document.getElementById('offerEndDate').value = item.offer.endDate;
                offerSection.style.display = 'block';
            } else {
                document.getElementById('offerPrice').value = '';
                document.getElementById('offerEndDate').value = '';
                offerSection.style.display = 'none';
            }
            
            deleteProductBtn.style.display = 'block';
            productModal.style.display = 'flex';
        }
        
        // Abrir modal para valorar producto
        function openRatingModal(itemId) {
            const item = menuItems.find(i => i.id === itemId);
            if (!item) return;
            
            ratingProductId = itemId;
            ratingProductTitle.textContent = `Valorar: ${item.name}`;
            document.getElementById('ratingUserName').value = '';
            document.getElementById('ratingComment').value = '';
            selectedRating = 0;
            
            // Resetear estrellas
            ratingStars.querySelectorAll('.star').forEach(star => {
                star.classList.remove('active');
                star.classList.remove('fas');
                star.classList.add('far');
            });
            
            ratingModal.style.display = 'flex';
        }
        
        // Guardar producto (añadir o editar)
        function saveProduct() {
            const name = document.getElementById('productName').value;
            const category = document.getElementById('productCategory').value;
            const description = document.getElementById('productDescription').value;
            const price = parseInt(document.getElementById('productPrice').value);
            const image = document.getElementById('productImage').value;
            const featured = document.getElementById('productFeatured').checked;
            
            let offer = null;
            if (offerSection.style.display === 'block') {
                const offerPrice = parseInt(document.getElementById('offerPrice').value);
                const endDate = document.getElementById('offerEndDate').value;
                
                if (offerPrice && endDate) {
                    offer = {
                        offerPrice,
                        endDate
                    };
                }
            }
            
            if (!name || !description || !price || !image) {
                alert('Por favor complete todos los campos requeridos');
                return;
            }
            
            if (editingProductId) {
                // Editar producto existente
                const index = menuItems.findIndex(item => item.id === editingProductId);
                if (index !== -1) {
                    // Mantener las valoraciones existentes
                    const existingRatings = menuItems[index].ratings;
                    
                    menuItems[index] = {
                        ...menuItems[index],
                        name,
                        category,
                        description,
                        price,
                        image,
                        featured,
                        offer,
                        ratings: existingRatings
                    };
                }
            } else {
                // Añadir nuevo producto
                const newId = menuItems.length > 0 ? Math.max(...menuItems.map(item => item.id)) + 1 : 1;
                menuItems.push({
                    id: newId,
                    name,
                    category,
                    description,
                    price,
                    image,
                    featured,
                    offer,
                    ratings: [] // Nuevo producto sin valoraciones
                });
            }
            
            renderMenuItems();
            productModal.style.display = 'none';
        }
        
        // Enviar valoración
        function submitRating() {
            const userName = document.getElementById('ratingUserName').value;
            const comment = document.getElementById('ratingComment').value;
            
            if (!userName || selectedRating === 0) {
                alert('Por favor ingresa tu nombre y selecciona una valoración');
                return;
            }
            
            const itemIndex = menuItems.findIndex(item => item.id === ratingProductId);
            if (itemIndex !== -1) {
                menuItems[itemIndex].ratings.push({
                    user: userName,
                    rating: selectedRating,
                    comment: comment
                });
                
                renderMenuItems();
                ratingModal.style.display = 'none';
                alert('¡Gracias por tu valoración!');
            }
        }
        
        // Cerrar sesión
        function logout() {
            currentUser = null;
            adminPanel.style.display = 'none';
            adminLoginBtn.textContent = 'Admin';
        }
    </script>
</body>
</html>